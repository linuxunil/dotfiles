[tools]
pipx = "latest"
ansible = "latest"

[settings]
experimental = true

[env]
ANSIBLE_CONFIG = "{{config_root}}/ansible.cfg"


[tasks.run]
description = "Run the main playbook on all hosts"
run = """
ansible-playbook playbooks/site.yml "$@"
"""

[tasks.check]
description = "Dry-run the playbook"
run = """
ansible-playbook playbooks/site.yml --check --diff "$@"
"""

[tasks.raspberry-pi]
description = "Setup Raspberry Pi (kevin)"
run = """
ansible-playbook playbooks/raspberry-pi.yml "$@"
"""

[tasks.raspberry-pi-check]
description = "Dry-run Raspberry Pi setup"
run = """
ansible-playbook playbooks/raspberry-pi.yml --check --diff "$@"
"""

